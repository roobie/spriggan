[tools]
bun = "1.3"
watchexec = "2"

[tasks.serve]
depends = "tidy"
run = "uvx python -m http.server"

[tasks.install-deps]
run = "bun install"

[tasks.fmt]
run = "bun run biome format --write"

[tasks.test]
run = "bun run vitest run --reporter verbose"

[tasks.lint]
run = "bun run biome lint"

[tasks.tidy]
run = "bun run biome check --write"
depends = [
    "fmt",
    "test",
    "lint"
]

[tasks.typecheck]
run = "bun run tsc --noEmit"

[tasks.check]
depends = [
    "install-deps",
    "tidy",
    "lint",
    # "typecheck",
]
