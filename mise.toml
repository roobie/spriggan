[tools]
bun = "1.3"
watchexec = "2"

[tasks.serve]
depends = "tidy"
run = "uvx python -m http.server"

[tasks.fmt]
run = "bunx biome format --write"

[tasks.test]
run = "bunx vitest run --environment jsdom --reporter verbose"

[tasks.lint]
run = "bunx biome lint"

[tasks.tidy]
run = "bunx biome check --write"
depends = [
    "fmt",
    "test",
    "lint"
]

[tasks.check]
run = "bunx tsc --noEmit"
depends = [
    "tidy",
    "lint"
]
